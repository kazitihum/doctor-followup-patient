<ion-toolbar mode="ios" class="main-header">
    <ion-buttons slot="start">
        <!-- <ion-button fill="clear" color="dark">
            <i class="remixicon-menu-line ri-2x"></i>
        </ion-button> -->
        <ion-back-button defaultHref="/tabs"></ion-back-button>
    </ion-buttons>
    <div text-center>
        <ion-title>
            Followup Details
        </ion-title>
    </div>
    <ion-buttons slot="end">
        <!-- <ion-button fill="clear" color="dark">
            <i class="remixicon-notification-line ri-2x"></i>
        </ion-button> -->
        <ion-button fill="clear" color="dark" (click)="logout()">
            <i class="remixicon-login-circle-line ri-2x"></i>
        </ion-button>
    </ion-buttons>
</ion-toolbar>

<ion-content padding>
    <div *ngIf="followupData?.symptoms" class="followup-info">
        <ion-item lines="none" class="d-flex" align-items-center>
            <h2 color="danger" slot="start">{{followup.disease_name.length > 25 ? followup.disease_name.substring(0,25)+"..." : followup.disease_name}}</h2>
            <span slot="end">{{followup.date}}</span>
        </ion-item>

        <ion-card class="bg-white">
            <ion-item lines="none">
                <ion-label class="d-flex" align-items-center>
                    <i class="remixicon-user-star-line mr-1"></i>
                    Dr. {{followup.doctor.name}}
                </ion-label>
            </ion-item>
        </ion-card>

        <ion-card class="bg-white">
            <ion-card-content>
                <ion-card-subtitle>Symptoms:</ion-card-subtitle>
                {{followup.child.symptoms}}
            </ion-card-content>
        </ion-card>

        <ion-card class="bg-white">
            <ion-card-content>
                <ion-card-subtitle>Description :</ion-card-subtitle>
                {{followup.child.description}}
            </ion-card-content>
        </ion-card>

        <div class="section-title">
            <h6 class="ion-padding-start">Files:</h6>
        </div>

        <ion-card class="bg-white" *ngFor="let item of followupData.file" (click)='download(item.title)'>
            <ion-card-content>
                {{item.title}}
            </ion-card-content>
        </ion-card>
    </div>

    <div *ngIf="followupData?.suggestions" class="followup-info">
        <ion-item lines="none" class="d-flex" align-items-center>
            <h2 color="danger" slot="start">{{followup.disease_name.length > 25 ? followup.disease_name.substring(0,25)+"..." : followup.disease_name}}</h2>
            <span slot="end">{{followupData.created_at | date:'yyyy-MM-dd'}}</span>
        </ion-item>

        <ion-card class="bg-white">
            <ion-item lines="none">
                <ion-label slot="start">
                    <i class="remixicon-user-line mr-1"></i>
                    {{followup.doctor.name}}
                </ion-label>
            </ion-item>
        </ion-card>

        <ion-card class="bg-white">
            <ion-card-content>
                <ion-card-subtitle>My Suggestions:</ion-card-subtitle>
                {{followupData.suggestions}}
            </ion-card-content>
        </ion-card>

        <ion-card class="bg-white">
            <ion-card-content>
                <ion-card-subtitle>Comment :</ion-card-subtitle>
                {{followupData.description}}
            </ion-card-content>
        </ion-card>

        <div class="section-title">
            <h6 class="ion-padding-start">Files:</h6>
        </div>

        <ion-card class="bg-white" *ngFor="let item of followupData.file" (click)='download(item.title)'>
            <ion-card-content>
                {{item.title}}
            </ion-card-content>
        </ion-card>
    </div>

</ion-content>

<ion-footer class="bar-positive foo"  color="primary" *ngIf="followupData?.suggestions">
    <ion-toolbar transparent>
        <div text-center>
            <ion-button expand="full" (click)="replay()">Replay</ion-button>
        </div>
    </ion-toolbar>
</ion-footer>
